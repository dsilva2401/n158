{"version":3,"sources":["../src/resources/services/deferResponse.js"],"names":["deferred","q","defer","customDeferred","promise","reject","statusOrErr","details","err","status","error","Error","resolve","data"],"mappings":";;;;;;AAAA;;;;;;kBAEe,YAAM;AACpB,KAAIA,WAAWC,YAAEC,KAAF,EAAf;AACA,KAAIC,iBAAiB,EAArB;AACAA,gBAAeC,OAAf,GAAyBJ,SAASI,OAAlC;AACAD,gBAAeE,MAAf,GAAwB,UAACC,WAAD,EAAcC,OAAd,EAAuBC,GAAvB,EAA+B;AACtD,MAAI,OAAOF,WAAP,IAAsB,QAA1B,EAAoC;AACnCN,YAASK,MAAT,CAAgB;AACfI,YAAQH,WADO;AAEfC,aAASA,OAFM;AAGfG,WAAOF,OAAO;AAHC,IAAhB;AAKA,GAND,MAMO;AACN,OAAI,CAACF,YAAYG,MAAjB,EAAyB;AACxB,UAAME,MAAM,0BAAN,CAAN;AACA;AACDX,YAASK,MAAT,CAAgB;AACfI,YAAQH,YAAYG,MAAZ,IAAsB,GADf;AAEfF,aAASD,YAAYC,OAFN;AAGfG,WAAOJ,YAAYE,GAAZ,IAAmB;AAHX,IAAhB;AAKA;AACD,EAjBD;AAkBAL,gBAAeS,OAAf,GAAyB,UAACC,IAAD,EAAU;AAClCb,WAASY,OAAT,CAAiBC,IAAjB;AACA,EAFD;AAGA,QAAOV,cAAP;AACA,C","file":"deferResponse.js","sourcesContent":["import q from 'q';\n\nexport default () => {\n\tvar deferred = q.defer();\n\tvar customDeferred = {};\n\tcustomDeferred.promise = deferred.promise;\n\tcustomDeferred.reject = (statusOrErr, details, err) => {\n\t\tif (typeof statusOrErr == 'number') {\n\t\t\tdeferred.reject({\n\t\t\t\tstatus: statusOrErr,\n\t\t\t\tdetails: details,\n\t\t\t\terror: err || {}\n\t\t\t});\n\t\t} else {\n\t\t\tif (!statusOrErr.status) {\n\t\t\t\tthrow Error('Missing status attribute');\n\t\t\t}\n\t\t\tdeferred.reject({\n\t\t\t\tstatus: statusOrErr.status || 200,\n\t\t\t\tdetails: statusOrErr.details,\n\t\t\t\terror: statusOrErr.err || {}\n\t\t\t});\n\t\t}\n\t}\n\tcustomDeferred.resolve = (data) => {\n\t\tdeferred.resolve(data);\n\t}\n\treturn customDeferred;\n}"]}